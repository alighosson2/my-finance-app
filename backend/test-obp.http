### Variables
@baseUrl = http://localhost:3000
@token = YOUR_JWT_TOKEN_HERE

### 1. Test OAuth Configuration
GET {{baseUrl}}/api/bank/test

### 2. Start OAuth Flow (Visit in browser)
GET {{baseUrl}}/api/bank/start

### 3. Test Login
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}

### 4. Get User Profile
GET {{baseUrl}}/api/users/profile
Authorization: Bearer {{token}}

### 5. Test OBP Connection (after OAuth)
POST {{baseUrl}}/api/bank/api/sync/test
Authorization: Bearer {{token}}
Content-Type: application/json

### 6. Sync Bank Accounts from OBP
POST {{baseUrl}}/api/bank/api/sync/accounts
Authorization: Bearer {{token}}
Content-Type: application/json

### 7. Get Financial Accounts
GET {{baseUrl}}/api/accounts
Authorization: Bearer {{token}}

### 8. Get Account by ID
GET {{baseUrl}}/api/accounts/1
Authorization: Bearer {{token}}

### 9. Create Financial Account (Manual)
POST {{baseUrl}}/api/accounts
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "account_name": "Test Savings",
  "account_type": "SAVINGS",
  "balance": 1500.00,
  "currency": "USD",
  "bank_name": "Test Bank"
}

### 10. Update Financial Account
PUT {{baseUrl}}/api/accounts/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "account_name": "Updated Savings Account",
  "balance": 2000.00
}

### 11. Get Account Summary
GET {{baseUrl}}/api/accounts/stats/summary
Authorization: Bearer {{token}}

### 12. Sync Transactions for Account
POST {{baseUrl}}/api/bank/api/sync/transactions/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "limit": 50,
  "fromDate": "2025-01-01",
  "toDate": "2025-01-20"
}

### 13. Get Transactions
GET {{baseUrl}}/api/transactions
Authorization: Bearer {{token}}

### 14. Sync All Data from OBP
POST {{baseUrl}}/api/bank/api/sync/all
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "transactionLimit": 100,
  "fromDate": "2024-12-01",
  "toDate": "2025-01-20"
} 